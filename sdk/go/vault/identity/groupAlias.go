// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package identity

import (
	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/go/pulumi"
)

// Creates an Identity Group Alias for Vault. The [Identity secrets engine](https://www.vaultproject.io/docs/secrets/identity/index.html) is the identity management solution for Vault.
// 
// Group aliases allows entity membership in external groups to be managed semi-automatically. External group serves as a mapping to a group that is outside of the identity store. External groups can have one (and only one) alias. This alias should map to a notion of group that is outside of the identity store. For example, groups in LDAP, and teams in GitHub. A username in LDAP, belonging to a group in LDAP, can get its entity ID added as a member of a group in Vault automatically during logins and token renewals. This works only if the group in Vault is an external group and has an alias that maps to the group in LDAP. If the user is removed from the group in LDAP, that change gets reflected in Vault only upon the subsequent login or renewal operation.
//
// > This content is derived from https://github.com/terraform-providers/terraform-provider-vault/blob/master/website/docs/r/identity_group_alias.html.markdown.
type GroupAlias struct {
	s *pulumi.ResourceState
}

// NewGroupAlias registers a new resource with the given unique name, arguments, and options.
func NewGroupAlias(ctx *pulumi.Context,
	name string, args *GroupAliasArgs, opts ...pulumi.ResourceOpt) (*GroupAlias, error) {
	if args == nil || args.CanonicalId == nil {
		return nil, errors.New("missing required argument 'CanonicalId'")
	}
	if args == nil || args.MountAccessor == nil {
		return nil, errors.New("missing required argument 'MountAccessor'")
	}
	inputs := make(map[string]interface{})
	if args == nil {
		inputs["canonicalId"] = nil
		inputs["mountAccessor"] = nil
		inputs["name"] = nil
	} else {
		inputs["canonicalId"] = args.CanonicalId
		inputs["mountAccessor"] = args.MountAccessor
		inputs["name"] = args.Name
	}
	s, err := ctx.RegisterResource("vault:identity/groupAlias:GroupAlias", name, true, inputs, opts...)
	if err != nil {
		return nil, err
	}
	return &GroupAlias{s: s}, nil
}

// GetGroupAlias gets an existing GroupAlias resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetGroupAlias(ctx *pulumi.Context,
	name string, id pulumi.ID, state *GroupAliasState, opts ...pulumi.ResourceOpt) (*GroupAlias, error) {
	inputs := make(map[string]interface{})
	if state != nil {
		inputs["canonicalId"] = state.CanonicalId
		inputs["mountAccessor"] = state.MountAccessor
		inputs["name"] = state.Name
	}
	s, err := ctx.ReadResource("vault:identity/groupAlias:GroupAlias", name, id, inputs, opts...)
	if err != nil {
		return nil, err
	}
	return &GroupAlias{s: s}, nil
}

// URN is this resource's unique name assigned by Pulumi.
func (r *GroupAlias) URN() pulumi.URNOutput {
	return r.s.URN()
}

// ID is this resource's unique identifier assigned by its provider.
func (r *GroupAlias) ID() pulumi.IDOutput {
	return r.s.ID()
}

// ID of the group to which this is an alias.
func (r *GroupAlias) CanonicalId() pulumi.StringOutput {
	return (pulumi.StringOutput)(r.s.State["canonicalId"])
}

// Mount accessor of the authentication backend to which this alias belongs to.
func (r *GroupAlias) MountAccessor() pulumi.StringOutput {
	return (pulumi.StringOutput)(r.s.State["mountAccessor"])
}

// Name of the group alias to create.
func (r *GroupAlias) Name() pulumi.StringOutput {
	return (pulumi.StringOutput)(r.s.State["name"])
}

// Input properties used for looking up and filtering GroupAlias resources.
type GroupAliasState struct {
	// ID of the group to which this is an alias.
	CanonicalId interface{}
	// Mount accessor of the authentication backend to which this alias belongs to.
	MountAccessor interface{}
	// Name of the group alias to create.
	Name interface{}
}

// The set of arguments for constructing a GroupAlias resource.
type GroupAliasArgs struct {
	// ID of the group to which this is an alias.
	CanonicalId interface{}
	// Mount accessor of the authentication backend to which this alias belongs to.
	MountAccessor interface{}
	// Name of the group alias to create.
	Name interface{}
}
